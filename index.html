<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>JapanGoï½œæ—¥æœ¬æ—…éŠäº’å‹•å¹³å°</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="indexstyle.css">

<!-- Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
/* --- ç™»å…¥æŒ‰éˆ•èˆ‡ç™»å…¥æ¡†æ¨£å¼ --- */
.login-btn {
  position: absolute;
  top: 15px;
  right: 20px;
  padding: 10px 20px;
  background: #1976d2;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  z-index: 1000;
}
.login-btn:hover { background: #1565c0; }

.login-box {
  position: fixed;          /* æ”¹æˆå›ºå®šä½ç½®ï¼Œæ–¹ä¾¿ç½®ä¸­ */
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%); /* å®Œå…¨ç½®ä¸­ */
  width: 300px;
  padding: 20px;
  background: white;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  border-radius: 10px;
  display: none;            /* é è¨­éš±è— */
  z-index: 1000;
}
.login-box input {
  width: 100%;
  padding: 8px;
  margin: 5px 0;
  border-radius: 5px;
  border: 1px solid #ccc;
}
.login-box button {
  width: 100%;
  padding: 10px;
  background: #1976d2;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}
.login-box button:hover { background: #1565c0; }
</style>
</head>

<body>

<header>
  <h1>JapanGo æ—¥æœ¬æ—…éŠäº’å‹•å¹³å°</h1>
  <p>æ—…éŠè·¯ç·š Ã— å…¥å¢ƒçŸ¥è­˜ Ã— æ—¥æ–‡å­¸ç¿’ Ã— å°éŠæˆ²</p>
</header>

<!-- ç®¡ç†è€…ç™»å…¥æŒ‰éˆ• -->
<button class="login-btn" onclick="openLogin()">ç®¡ç†è€…ç™»å…¥</button>

<!-- ç™»å…¥æ¡† -->
<div id="loginBox" class="login-box">
  <h3>ç®¡ç†è€…ç™»å…¥</h3>
  <input id="adminUser" placeholder="å¸³è™Ÿ"><br>
  <input id="adminPass" type="password" placeholder="å¯†ç¢¼"><br><br>
  <button onclick="login()">ç™»å…¥</button>
</div>


<!-- å°è¦½åˆ— -->
<nav class="navbar">
  <ul>
    <li onclick="goTo('index.html')">é¦–é </li>
    <li onclick="goTo('customs.html')">å…¥å¢ƒæ³¨æ„</li>
    <li onclick="goTo('internal.html')">åœ‹å…§æ³¨æ„</li>
    <li onclick="goTo('Entryquiz.html')">å…¥å¢ƒ Q&A</li>
    <li onclick="goTo('quiz.html')">åœ‹å…§ Q&A</li>
    <li onclick="goTo('japanese.html')">æ—¥æ–‡å­¸ç¿’</li>
  </ul>
</nav>

<div class="container">
  <section class="map-area">
    <div class="section-title">æ—¥æœ¬æ—…éŠåœ°åœ–</div>
    <div id="map" style="height:300px;"></div>
  </section>
</div>

<section class="event-area">
  <div class="section-title">æ¨è–¦æ´»å‹•</div>
  <h2 class="region-title">ğŸ“ åŒ—æµ·é“</h2>
  <div class="event-list" id="hokkaido"></div>
  <h2 class="region-title">ğŸ“ æœ¬æ´²</h2>
  <div class="event-list" id="honshu"></div>
  <h2 class="region-title">ğŸ“ ä¹å·ãƒ»å››åœ‹</h2>
  <div class="event-list" id="kyushu"></div>
</section>

<footer>
  Â© 2025 JapanGoï½œå‰ç«¯äº’å‹•å°ˆé¡Œ
</footer>

<script>
// --- ç®¡ç†è€…ç™»å…¥ JS ---
function openLogin() {
  const box = document.getElementById("loginBox");
  box.style.display = (box.style.display === "block") ? "none" : "block";
}

function login() {
  const user = document.getElementById("adminUser").value;
  const pass = document.getElementById("adminPass").value;

  if(user === "admin" && pass === "1234"){
    localStorage.setItem("admin","true");
    alert("ç™»å…¥æˆåŠŸï¼Œé€²å…¥ç®¡ç†æ¨¡å¼");
    window.location.href = "admin.html";
  } else {
    alert("å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤");
  }
}

// --- å°è¦½åˆ— ---
function goTo(p){ location.href=p; }

// --- æ´»å‹•å‡è³‡æ–™èˆ‡ Leaflet åœ°åœ– ---
const events = [
  {region:"åŒ—æµ·é“", title:"æœ­å¹Œé›ªç¥­", location:"æœ­å¹Œ", lat:43.0618, lng:141.3545, desc:"å†¬å­£å¿…çœ‹é›ªé›•æ´»å‹•", route:"æœ­å¹Œç«™ â†’ å¤§é€šå…¬åœ’"},
  {region:"æœ¬æ´²", title:"äº¬éƒ½æ¸…æ°´å¯º", location:"äº¬éƒ½", lat:35.0116, lng:135.7681, desc:"ä¸–ç•Œæ–‡åŒ–éºç”¢", route:"äº¬éƒ½ç«™ â†’ æ¸…æ°´å¯º"},
  {region:"ä¹å·å››åœ‹", title:"ç¦å²¡å±‹å°", location:"ç¦å²¡", lat:33.5902, lng:130.4017, desc:"å¤œæ™šå±‹å°ç¾é£Ÿ", route:"åšå¤šç«™ â†’ ä¸­æ´²"}
];

let map = L.map('map').setView([36.2,138.2],5);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{ attribution:'Â© OpenStreetMap'}).addTo(map);

let marker, line;

// å»ºç«‹æ´»å‹•å¡ç‰‡
events.forEach(e=>{
  const card = `<div class="event-card" onclick="selectEvent(${e.lat},${e.lng},'${e.title}','${e.location}','${e.desc}','${e.route}')">
    <h3>${e.title}</h3><p>åœ°é»ï¼š${e.location}</p>
  </div>`;
  if(e.region==="åŒ—æµ·é“") hokkaido.innerHTML+=card;
  if(e.region==="æœ¬æ´²") honshu.innerHTML+=card;
  if(e.region==="ä¹å·å››åœ‹") kyushu.innerHTML+=card;
});

// é»æ“Šæ´»å‹•
function selectEvent(lat,lng,title,loc,desc,route){
  map.setView([lat,lng],13);
  if(marker) map.removeLayer(marker);
  if(line) map.removeLayer(line);

  marker = L.marker([lat,lng]).addTo(map)
    .bindPopup(`<b>${title}</b><br>${loc}<br>${desc}<br>${route}`).openPopup();

  line = L.polyline([[lat-0.02,lng-0.02],[lat,lng]],{color:'red'}).addTo(map);
}
</script>

</body>
</html>
